Output/Logging {#logging}
==============

Logs outputs are .csv file format, with a two lines header (name and unit of the variables). Each object class generate its own log file. Logs are organized into folders according to the tree architecture (#tree), ie the logs of the forces and nodes are stored into boy folders and the body's, link's, cables's log are stored in the system folder. Loggind output for the test DTMB5512 (test_DTMB5512.cpp) and a part of the hexagonal articulated buoy demo (demo_HexagonalArticulatedBuoy.cpp) are represented in next figures.

![Figure : Representation of the logs output architecture](TreeLog_Merge_w300.png "TreeLog_DTMB5512") 

The logging output are written in a folder with the date and time of the simulation. This folder is created in the data folder defined in the .frydom_config (#ref). 

Definition of the different files are the following.


Event file
----------

The *events* file contains all the execution log information of the simulation. An example of the begining of this file is given in the next figure.

![](Event_file_example.png "event file")

The first three lines corresponds to general information for the execution logging.

The next lines contain the following information:

    [time] [level] [type] [name] message
    
where :

- *time* is the current time of the simulation from the beggining,
- *level* is the level of information, ie info/warning/error,
- *type* is the type of the object concerned by the message,
- *name* is the name of the object concerned by the message,
- *message* is the message generated by the code.


Solver logging
--------------

The *OffshoreSystemsolver.csv* file contains information for the solver convergence. Possible variables are listed in the following table.

| Variables |           Description            |
|-----------|:--------------------------------:|
| time      | Current time of the simulation   |
| iter      | Number of total iteration taken by the solver |
| violationResidual | Constraint violation (if recorded) |
| LagrangeResidual  | Maximum change in Lagrange multipliers |


States logging
--------------

The csv files relative to force are stored in folder of the type FORCE_"Name". Standard output variables for the force are listed in the following table.

| Variables | Unit | Description |
|-----------|:-----:|:---------------------------:|
| time | s | Current time of the simulation |
| ForceInBody | N | Force in vody reference frame |
| TorqueInBodyAtCOG | N.m | Torque at COG in body reference frame |
| ForceInWorld | N | Force in world reference frame | 
| TorqueInWorldAtCOG | N.m | Torque at COG in world reference frame |

The csv files relative to node are stored in the folder of the type NODE_"Name". Standard output variables for the node are listed in the following table.

| Variables | Unit | Description |
|-----------|:----:|:-----------:|
| time | s | Current time of the simulation |
| PositionInWorld | m | Node position in world reference frame |
| VelocityInWorld | m/s | Node velocity in world reference frame |
| AccelerationInWorld | m/s^2 | Node acceleration in world reference frame |
| NodePositionInBody | m | Node position in body reference frame |


The csv files relative to the bodies are stored in the folder of the type BODY_"Name". Standard output variables for the body are listed in the following table.

| Variables | Unit | Description |
|-----------|:----:|:-----------:|
| time | s | Current time of the simulation |
| Position | m | Body position in the world reference frame |
| COGPositionInWorld | m | COG position in the world reference frame |
| CardanAngles | rad | Body orientation in the world reference frame |
| LinearVelocityInWorld | m/s | Body linear velocity in the world reference frame |
| COGLinearVelocityInWorld | m/s | COG body linear velocity in the world reference frame |
| AngularVelocityInWorld | rad/s | Body angular velocity in world reference frame |
| LinearAccelerationInWorld | m/s^2 | Body linear acceleration in the world reference frame |
| COGLinearAccelerationInWorld | m/s^2 | COG body linear acceleration in the world reference frame |
| AngularAccelerationInWorld | rad/s^2 | Body angular acceleration in the world reference frame | 

**Note** : The convention NED/NWU used for the vector is defined in the .frydom_config file.



